<Page x:Class="WorkOrderManagementSystem.Views.Pages.UsersPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Users">
    <Grid Background="#F5F5F5" Margin="20">
        <StackPanel>
            <!-- Header -->
            <StackPanel Margin="0,0,0,20">
                <TextBlock Text="User Management" FontSize="28" FontWeight="Bold" Margin="0,0,0,5"/>
                <TextBlock Text="Manage system users and permissions" FontSize="12" Foreground="#666" Margin="0,0,0,15"/>
                
                <StackPanel Orientation="Horizontal" Height="40">
                    <TextBox Name="SearchBox" 
                             Width="300" 
                             Padding="10" 
                             FontSize="12"
                             Margin="0"
                             TextChanged="SearchBox_TextChanged"
                             Background="White"/>
                    <Button Name="AddUserBtn" 
                            Content="+ Add User" 
                            Background="#4CAF50" 
                            Foreground="White" 
                            Padding="15,10"
                            Margin="10,0,0,0"
                            Click="AddUserBtn_Click"/>
                </StackPanel>
            </StackPanel>

            <!-- System Users Title -->
            <TextBlock Text="System Users" FontSize="14" FontWeight="Bold" Margin="0,0,0,12"/>

            <!-- Users List -->
            <Border Background="White" CornerRadius="8" Padding="15" BorderBrush="#E0E0E0" BorderThickness="1">
                <DataGrid Name="UsersGrid" 
                          IsReadOnly="True" 
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          BorderThickness="0">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="User ID" Binding="{Binding UserId}" Width="60"/>
                        <DataGridTextColumn Header="Username" Binding="{Binding Username}" Width="100"/>
                        <DataGridTextColumn Header="Full Name" Binding="{Binding FullName}" Width="*" MinWidth="150"/>
                        <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="*" MinWidth="180"/>
                        <DataGridTextColumn Header="Role" Binding="{Binding Role}" Width="90"/>
                        <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="80"/>
                        <DataGridTextColumn Header="Created Date" Binding="{Binding CreatedDate}" Width="90"/>
                        <DataGridTemplateColumn Header="Actions" Width="80">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <Button Name="EditBtn" 
                                                Content="? Edit" 
                                                Background="Transparent"
                                                Foreground="#2196F3"
                                                Padding="8,5"
                                                Margin="5,0"
                                                FontSize="11"
                                                Cursor="Hand"
                                                Click="EditBtn_Click"
                                                Tag="{Binding}"/>
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>
        </StackPanel>
    </Grid>
</Page>
