<Page x:Class="WorkOrderManagementSystem.Views.Pages.WorkOrdersPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Work Orders">
    <Grid Background="#F5F5F5" Margin="20">
        <DockPanel>
            <!-- Header -->
            <StackPanel DockPanel.Dock="Top" Margin="0,0,0,20">
                <DockPanel LastChildFill="False" Margin="0,0,0,15">
                    <!-- Title on the left -->
                    <StackPanel DockPanel.Dock="Left" VerticalAlignment="Top">
                        <TextBlock Text="Work Orders" FontSize="28" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="Track and manage repair jobs" FontSize="14" Foreground="#666"/>
                    </StackPanel>

                    <!-- Button on the right -->
                    <Button Name="AddWorkOrderBtn" 
                DockPanel.Dock="Right"
                Content="+ Create Work Order" 
                Background="#222" 
                Foreground="White" 
                Padding="20,12"
                FontSize="14"
                FontWeight="SemiBold"
                Click="AddWorkOrderBtn_Click"
                VerticalAlignment="Top"/>
                </DockPanel>
                
                <!-- Filter Tabs -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                    <Button Name="AllOrdersBtn" 
                            Content="All Orders" 
                            Background="Transparent" 
                            Foreground="#333"
                            BorderThickness="0,0,0,2"
                            BorderBrush="#2196F3"
                            Padding="15,10"
                            Margin="0,0,20,0"
                            Click="FilterButton_Click"
                            Tag="All"/>
                    <Button Name="PendingBtn" 
                            Content="Pending" 
                            Background="Transparent" 
                            Foreground="#999"
                            BorderThickness="0"
                            Padding="15,10"
                            Margin="0,0,20,0"
                            Click="FilterButton_Click"
                            Tag="Pending"/>
                    <Button Name="InProgressBtn" 
                            Content="In Progress" 
                            Background="Transparent" 
                            Foreground="#999"
                            BorderThickness="0"
                            Padding="15,10"
                            Margin="0,0,20,0"
                            Click="FilterButton_Click"
                            Tag="In Progress"/>
                    <Button Name="CompletedBtn" 
                            Content="Completed" 
                            Background="Transparent" 
                            Foreground="#999"
                            BorderThickness="0"
                            Padding="15,10"
                            Margin="0,0,20,0"
                            Click="FilterButton_Click"
                            Tag="Completed"/>
                </StackPanel>
            </StackPanel>

            <!-- Work Orders List -->
            <Border DockPanel.Dock="Bottom" Background="White" CornerRadius="5" Padding="0">
                <DockPanel>
                    <TextBlock DockPanel.Dock="Top" Text="Work Order List" FontSize="16" FontWeight="Bold" Padding="20,15,20,10"/>
                    <DataGrid Name="WorkOrdersGrid" 
                              IsReadOnly="True" 
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              BorderThickness="0"
                              Padding="20,0,20,20">
                        <DataGrid.ColumnHeaderStyle>
                            <Style TargetType="DataGridColumnHeader">
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="BorderThickness" Value="0,0,0,1"/>
                                <Setter Property="BorderBrush" Value="#E0E0E0"/>
                                <Setter Property="Padding" Value="10,10"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                                <Setter Property="Foreground" Value="#333"/>
                            </Style>
                        </DataGrid.ColumnHeaderStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Order ID" Binding="{Binding WorkOrderNumber}" Width="100" />
                            <DataGridTextColumn Header="Customer" Binding="{Binding CustomerName}" Width="150" />
                            <DataGridTextColumn Header="Device" Binding="{Binding DeviceDisplay}" Width="150" />
                            <DataGridTextColumn Header="Issue" Binding="{Binding Diagnosis}" Width="150" />
                            <DataGridTextColumn Header="Total Cost" Binding="{Binding TotalCostDisplay}" Width="100" />
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100" />
                            <DataGridTextColumn Header="Technician" Binding="{Binding TechnicianName}" Width="120" />
                            <DataGridTemplateColumn Header="Actions" Width="100">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Button Content="Details" 
                                                Background="Transparent" 
                                                Foreground="#2196F3"
                                                Click="DetailsButton_Click"
                                                Tag="{Binding Id}"
                                                Cursor="Hand"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </Border>
        </DockPanel>
    </Grid>
</Page>
